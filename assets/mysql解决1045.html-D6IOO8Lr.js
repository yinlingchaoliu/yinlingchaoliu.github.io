import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as n,f as e}from"./app-CtvCwAmI.js";const p={},o=e(`<p>1045 - Access denied for user using password: YES</p><h3 id="强行提升权限" tabindex="-1"><a class="header-anchor" href="#强行提升权限"><span>强行提升权限</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">1</span>、关闭 mysql服务

<span class="token function">sudo</span> /usr/local/MySQL/support-files/mysql.server stop
<span class="token number">2</span>、进入mysql目录

<span class="token builtin class-name">cd</span> /usr/local/mysql/bin
<span class="token number">3</span>、提升权限

<span class="token function">sudo</span> <span class="token function">su</span>
<span class="token number">4</span>、重启服务授权<span class="token punctuation">(</span>不要关闭该终端<span class="token punctuation">)</span>

./mysqld_safe --skip-grant-tables <span class="token operator">&amp;</span> 
<span class="token number">5</span>、新启动命令行窗口进入

<span class="token comment">#直接进入mysql模式</span>
mysql 

<span class="token comment">#进入mysql数据库</span>
mysql<span class="token operator">&gt;</span> use mysql

<span class="token comment"># 授权</span>
mysql<span class="token operator">&gt;</span> flush privileges<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="正常权限" tabindex="-1"><a class="header-anchor" href="#正常权限"><span>正常权限</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>
<span class="token comment">#输入密码</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="更新user表" tabindex="-1"><a class="header-anchor" href="#更新user表"><span>更新user表</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>
update mysql.user <span class="token builtin class-name">set</span> <span class="token assign-left variable">authentication_string</span><span class="token operator">=</span>PASSWORD<span class="token punctuation">(</span><span class="token string">&#39;111111&#39;</span><span class="token punctuation">)</span> where user <span class="token operator">=</span> <span class="token string">&#39;root&#39;</span><span class="token punctuation">;</span>

FLUSH PRIVILEGES<span class="token punctuation">;</span>

<span class="token builtin class-name">exit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看mysql-user表-判断需要修改字段" tabindex="-1"><a class="header-anchor" href="#查看mysql-user表-判断需要修改字段"><span>查看mysql.user表 判断需要修改字段</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from mysql.user <span class="token punctuation">;</span>

+-----------+-----------+-------------+-------------+-------------+-------------+-------------+-----------+-------------+---------------+--------------+-----------+------------+-----------------+------------+------------+--------------+------------+-----------------------+------------------+--------------+-----------------+------------------+------------------+----------------+---------------------+--------------------+------------------+------------+--------------+------------------------+----------+------------+-------------+--------------+---------------+-------------+-----------------+----------------------+-----------------------+-------------------------------------------+------------------+-----------------------+-------------------+----------------+
<span class="token operator">|</span> Host      <span class="token operator">|</span> User      <span class="token operator">|</span> Select_priv <span class="token operator">|</span> Insert_priv <span class="token operator">|</span> Update_priv <span class="token operator">|</span> Delete_priv <span class="token operator">|</span> Create_priv <span class="token operator">|</span> Drop_priv <span class="token operator">|</span> Reload_priv <span class="token operator">|</span> Shutdown_priv <span class="token operator">|</span> Process_priv <span class="token operator">|</span> File_priv <span class="token operator">|</span> Grant_priv <span class="token operator">|</span> References_priv <span class="token operator">|</span> Index_priv <span class="token operator">|</span> Alter_priv <span class="token operator">|</span> Show_db_priv <span class="token operator">|</span> Super_priv <span class="token operator">|</span> Create_tmp_table_priv <span class="token operator">|</span> Lock_tables_priv <span class="token operator">|</span> Execute_priv <span class="token operator">|</span> Repl_slave_priv <span class="token operator">|</span> Repl_client_priv <span class="token operator">|</span> Create_view_priv <span class="token operator">|</span> Show_view_priv <span class="token operator">|</span> Create_routine_priv <span class="token operator">|</span> Alter_routine_priv <span class="token operator">|</span> Create_user_priv <span class="token operator">|</span> Event_priv <span class="token operator">|</span> Trigger_priv <span class="token operator">|</span> Create_tablespace_priv <span class="token operator">|</span> ssl_type <span class="token operator">|</span> ssl_cipher <span class="token operator">|</span> x509_issuer <span class="token operator">|</span> x509_subject <span class="token operator">|</span> max_questions <span class="token operator">|</span> max_updates <span class="token operator">|</span> max_connections <span class="token operator">|</span> max_user_connections <span class="token operator">|</span> plugin                <span class="token operator">|</span> authentication_string                     <span class="token operator">|</span> password_expired <span class="token operator">|</span> password_last_changed <span class="token operator">|</span> password_lifetime <span class="token operator">|</span> account_locked <span class="token operator">|</span>
+-----------+-----------+-------------+-------------+-------------+-------------+-------------+-----------+-------------+---------------+--------------+-----------+------------+-----------------+------------+------------+--------------+------------+-----------------------+------------------+--------------+-----------------+------------------+------------------+----------------+---------------------+--------------------+------------------+------------+--------------+------------------------+----------+------------+-------------+--------------+---------------+-------------+-----------------+----------------------+-----------------------+-------------------------------------------+------------------+-----------------------+-------------------+----------------+
<span class="token operator">|</span> localhost <span class="token operator">|</span> root      <span class="token operator">|</span> Y           <span class="token operator">|</span> Y           <span class="token operator">|</span> Y           <span class="token operator">|</span> Y           <span class="token operator">|</span> Y           <span class="token operator">|</span> Y         <span class="token operator">|</span> Y           <span class="token operator">|</span> Y             <span class="token operator">|</span> Y            <span class="token operator">|</span> Y         <span class="token operator">|</span> Y          <span class="token operator">|</span> Y               <span class="token operator">|</span> Y          <span class="token operator">|</span> Y          <span class="token operator">|</span> Y            <span class="token operator">|</span> Y          <span class="token operator">|</span> Y                     <span class="token operator">|</span> Y                <span class="token operator">|</span> Y            <span class="token operator">|</span> Y               <span class="token operator">|</span> Y                <span class="token operator">|</span> Y                <span class="token operator">|</span> Y              <span class="token operator">|</span> Y                   <span class="token operator">|</span> Y                  <span class="token operator">|</span> Y                <span class="token operator">|</span> Y          <span class="token operator">|</span> Y            <span class="token operator">|</span> Y                      <span class="token operator">|</span>          <span class="token operator">|</span>            <span class="token operator">|</span>             <span class="token operator">|</span>              <span class="token operator">|</span>             <span class="token number">0</span> <span class="token operator">|</span>           <span class="token number">0</span> <span class="token operator">|</span>               <span class="token number">0</span> <span class="token operator">|</span>                    <span class="token number">0</span> <span class="token operator">|</span> mysql_native_password <span class="token operator">|</span> *25733098EE214D595C27E3CB8BEE05BAC78A7F4D <span class="token operator">|</span> Y                <span class="token operator">|</span> <span class="token number">2023</span>-04-04 <span class="token number">21</span>:27:17   <span class="token operator">|</span>              NULL <span class="token operator">|</span> N              <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql.sys <span class="token operator">|</span> N           <span class="token operator">|</span> N           <span class="token operator">|</span> N           <span class="token operator">|</span> N           <span class="token operator">|</span> N           <span class="token operator">|</span> N         <span class="token operator">|</span> N           <span class="token operator">|</span> N             <span class="token operator">|</span> N            <span class="token operator">|</span> N         <span class="token operator">|</span> N          <span class="token operator">|</span> N               <span class="token operator">|</span> N          <span class="token operator">|</span> N          <span class="token operator">|</span> N            <span class="token operator">|</span> N          <span class="token operator">|</span> N                     <span class="token operator">|</span> N                <span class="token operator">|</span> N            <span class="token operator">|</span> N               <span class="token operator">|</span> N                <span class="token operator">|</span> N                <span class="token operator">|</span> N              <span class="token operator">|</span> N                   <span class="token operator">|</span> N                  <span class="token operator">|</span> N                <span class="token operator">|</span> N          <span class="token operator">|</span> N            <span class="token operator">|</span> N                      <span class="token operator">|</span>          <span class="token operator">|</span>            <span class="token operator">|</span>             <span class="token operator">|</span>              <span class="token operator">|</span>             <span class="token number">0</span> <span class="token operator">|</span>           <span class="token number">0</span> <span class="token operator">|</span>               <span class="token number">0</span> <span class="token operator">|</span>                    <span class="token number">0</span> <span class="token operator">|</span> mysql_native_password <span class="token operator">|</span> *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE <span class="token operator">|</span> N                <span class="token operator">|</span> <span class="token number">2023</span>-04-04 <span class="token number">21</span>:27:17   <span class="token operator">|</span>              NULL <span class="token operator">|</span> Y              <span class="token operator">|</span>
+-----------+-----------+-------------+-------------+-------------+-------------+-------------+-----------+-------------+---------------+--------------+-----------+------------+-----------------+------------+------------+--------------+------------+-----------------------+------------------+--------------+-----------------+------------------+------------------+----------------+---------------------+--------------------+------------------+------------+--------------+------------------------+----------+------------+-------------+--------------+---------------+-------------+-----------------+----------------------+-----------------------+-------------------------------------------+------------------+-----------------------+-------------------+----------------+
<span class="token number">2</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9),t=[o];function r(l,c){return a(),n("div",null,t)}const d=s(p,[["render",r],["__file","mysql解决1045.html.vue"]]),u=JSON.parse('{"path":"/server/env/mysql%E8%A7%A3%E5%86%B31045.html","title":"mysql解决1045","lang":"zh-CN","frontmatter":{"title":"mysql解决1045","date":"2024-03-24T11:47:50.000Z","order":8,"category":["server"],"tag":["env"],"description":"1045 - Access denied for user using password: YES 强行提升权限 正常权限 更新user表 查看mysql.user表 判断需要修改字段","head":[["meta",{"property":"og:url","content":"https://yinlingchaoliu.github.io/server/env/mysql%E8%A7%A3%E5%86%B31045.html"}],["meta",{"property":"og:site_name","content":"引领潮流"}],["meta",{"property":"og:title","content":"mysql解决1045"}],["meta",{"property":"og:description","content":"1045 - Access denied for user using password: YES 强行提升权限 正常权限 更新user表 查看mysql.user表 判断需要修改字段"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-21T03:00:18.000Z"}],["meta",{"property":"article:author","content":"引领潮流"}],["meta",{"property":"article:tag","content":"env"}],["meta",{"property":"article:published_time","content":"2024-03-24T11:47:50.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-21T03:00:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"mysql解决1045\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-03-24T11:47:50.000Z\\",\\"dateModified\\":\\"2024-04-21T03:00:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"引领潮流\\",\\"url\\":\\"https://www.jianshu.com/u/bdcce32c05dd\\"}]}"]]},"headers":[{"level":3,"title":"强行提升权限","slug":"强行提升权限","link":"#强行提升权限","children":[]},{"level":3,"title":"正常权限","slug":"正常权限","link":"#正常权限","children":[]},{"level":3,"title":"更新user表","slug":"更新user表","link":"#更新user表","children":[]},{"level":3,"title":"查看mysql.user表 判断需要修改字段","slug":"查看mysql-user表-判断需要修改字段","link":"#查看mysql-user表-判断需要修改字段","children":[]}],"git":{"createdTime":1713668418000,"updatedTime":1713668418000,"contributors":[{"name":"引领潮流","email":"heat13@qq.com","commits":1}]},"readingTime":{"minutes":1,"words":300},"filePathRelative":"server/env/mysql解决1045.md","localizedDate":"2024年3月24日","excerpt":"<p>1045 - Access denied for user using password: YES</p>\\n<h3>强行提升权限</h3>\\n<div class=\\"language-bash\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"token number\\">1</span>、关闭 mysql服务\\n\\n<span class=\\"token function\\">sudo</span> /usr/local/MySQL/support-files/mysql.server stop\\n<span class=\\"token number\\">2</span>、进入mysql目录\\n\\n<span class=\\"token builtin class-name\\">cd</span> /usr/local/mysql/bin\\n<span class=\\"token number\\">3</span>、提升权限\\n\\n<span class=\\"token function\\">sudo</span> <span class=\\"token function\\">su</span>\\n<span class=\\"token number\\">4</span>、重启服务授权<span class=\\"token punctuation\\">(</span>不要关闭该终端<span class=\\"token punctuation\\">)</span>\\n\\n./mysqld_safe --skip-grant-tables <span class=\\"token operator\\">&amp;</span> \\n<span class=\\"token number\\">5</span>、新启动命令行窗口进入\\n\\n<span class=\\"token comment\\">#直接进入mysql模式</span>\\nmysql \\n\\n<span class=\\"token comment\\">#进入mysql数据库</span>\\nmysql<span class=\\"token operator\\">&gt;</span> use mysql\\n\\n<span class=\\"token comment\\"># 授权</span>\\nmysql<span class=\\"token operator\\">&gt;</span> flush privileges<span class=\\"token punctuation\\">;</span>\\n\\n</code></pre></div>","autoDesc":true}');export{d as comp,u as data};
